type:
  name: std::shared_ptr<cp::Body>
  include: 'chipmunk.hpp'

---

type:
  name: std::shared_ptr<cp::Shape>
  include: 'chipmunk.hpp'

---

type:
  name: cp:Vect
  include: 'chipmunk.hpp'

---

component:
  name: Body
  members:
    - body: 'std::shared_ptr<cp::Body>'

---

component:
  name: Shape
  members:
    - shape: 'std::shared_ptr<cp::Shape>'

---

component:
  name: Sensor
  members:
  - shape: std::shared_ptr<cp::Shape>
  - entities: std::vector<Halley::Entity*>

---

message:
  name: Hit
  members:
  - damage: int

---

system:
  name: Physics
  families:
  - physical:
    - Body: read
    - Shape: read
    - Sensor: optional read
  - bodies:
    - Body: read
    - Transform2D: write
  - sensors:
    - Sensor: write
  strategy: global
  access:
  - world
  messages:
  - Hit: send
  - ReachedGoal: send