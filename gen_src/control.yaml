type:
  name: std::shared_ptr<Controller>
  include: "src/control/controller.h"

---

component:
  name: ShipControl
  members:
    - controller: std::shared_ptr<Controller>

---

component:
  name: WeaponControl

---

message:
  name: FireWeapon

---

system:
  name: Control
  families:
  - main:
    - ShipControl: read
    - Hardpoints: read
    - Body: write
    - Transform2D: write
  strategy: individual
  services:
    - ControllerService
  messages:
    - FireWeapon: send

---

system:
  name: WeaponControl
  families:
    - main:
      - Weapon: read
      - Transform2D: write
  strategy: individual
  messages:
    - FireWeapon: receive
  access:
    - world
    - resources